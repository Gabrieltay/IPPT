function initLocalStorage(){null==window.localStorage.getItem("age")&&window.localStorage.setItem("age",30)}function constantAdjustment(){agegrouprw=getAgeGroup(parseInt($("#age-input").val()));var r=getAwardPoints($("#select-choice-rewards").val());if("SITUP"==$("input[name*=radio-choice-a]:checked").val()){remaining=r-SitupScore2Point(agegrouprw,situprw),remaining>75&&($("#situp-rw-slider").val(SitupPoint2Score(agegrouprw,r-75)),$("#situp-rw-slider").slider("refresh"),situprw=$("#situp-rw-slider").val(),remaining=r-SitupScore2Point(agegrouprw,situprw));var e=Math.floor(remaining/3);$("#pushup-rw-slider").val(PushupPoint2Score(agegrouprw,e)),$("#pushup-rw-slider").slider("refresh"),$("#running-rw-slider").val(1100-RunningPoint2Score(agegrouprw,remaining-e)),$("#running-rw-slider").slider("refresh");var t=secondsToTimeString(parseInt(RunningPoint2Score(agegrouprw,remaining-e)));$(".rw-timeLabel").val(t)}else if("PUSHUP"==$("input[name*=radio-choice-a]:checked").val()){remaining=r-PushupScore2Point(agegrouprw,pushuprw),remaining>75&&($("#pushup-rw-slider").val(PushupPoint2Score(agegrouprw,r-75)),$("#pushup-rw-slider").slider("refresh"),pushuprw=$("#pushup-rw-slider").val(),remaining=r-PushupScore2Point(agegrouprw,pushuprw));var e=Math.floor(remaining/3);$("#situp-rw-slider").val(SitupPoint2Score(agegrouprw,e)),$("#situp-rw-slider").slider("refresh"),$("#running-rw-slider").val(1100-RunningPoint2Score(agegrouprw,remaining-e)),$("#running-rw-slider").slider("refresh");var t=secondsToTimeString(parseInt(RunningPoint2Score(agegrouprw,remaining-e)));$(".rw-timeLabel").val(t)}}function calculateReward2Score(){agegrouprw=getAgeGroup(parseInt($("#age-input").val())),situprw=$("#situp-rw-slider").val(),$("#situp-rw-pts").text(SitupScore2Point(agegrouprw,situprw)),pushuprw=$("#pushup-rw-slider").val(),$("#pushup-rw-pts").text(PushupScore2Point(agegrouprw,pushuprw)),runningrw=parseInt(1100-$("#running-rw-slider").val()),$("#running-rw-pts").text(RunningScore2Point(agegrouprw,runningrw)),rwtotal=parseInt(SitupScore2Point(agegrouprw,situprw))+parseInt(PushupScore2Point(agegrouprw,pushuprw))+parseInt(RunningScore2Point(agegrouprw,runningrw)),$("#rw-total").text(rwtotal)}function calculatePts2Score(){agegroupts=getAgeGroup(parseInt($("#age-input").val())),situppts=$("#situp-pts-slider").val(),$("#situp-score").text(SitupPoint2Score(agegroupts,situppts)),pushuppts=$("#pushup-pts-slider").val(),$("#pushup-score").text(PushupPoint2Score(agegroupts,pushuppts)),runningpts=$("#running-pts-slider").val(),$("#running-score").text(secondsToTimeString(RunningPoint2Score(agegroupts,runningpts))),pstotal=parseInt(situppts)+parseInt(pushuppts)+parseInt(runningpts),$("#ps-total").text(pstotal),$("#ps-award").text(getAward(pstotal))}function calculateScore2Pts(){agegroupscore=getAgeGroup(parseInt($("#age-input").val())),situpscore=$("#situp-score-slider").val(),$("#situp-pts").text(SitupScore2Point(agegroupscore,situpscore)),pushupscore=$("#pushup-score-slider").val(),$("#pushup-pts").text(PushupScore2Point(agegroupscore,pushupscore)),runningscore=parseInt(1100-$("#running-score-slider").val()),$("#running-pts").text(RunningScore2Point(agegroupscore,runningscore)),sptotal=parseInt(SitupScore2Point(agegroupscore,situpscore))+parseInt(PushupScore2Point(agegroupscore,pushupscore))+parseInt(RunningScore2Point(agegroupscore,runningscore)),$("#sp-total").text(sptotal),$("#sp-award").text(getAward(sptotal))}function populateSitupTable(){$(".table").empty(),agegroupsum=getAgeGroup(parseInt($("#age-input").val())),$(".table").append("<tr><td>Score</td><td>Point</td></tr>");for(var r=60;r>0;r--)$(".table").append("<tr><td>"+r+"</td><td>"+SitupScore2Point(agegroupsum,r)+"</td></tr>")}function populatePushupTable(){$(".table").empty(),agegroupsum=getAgeGroup(parseInt($("#age-input").val())),$(".table").append("<tr><td>Score</td><td>Point</td></tr>");for(var r=60;r>0;r--)$(".table").append("<tr><td>"+r+"</td><td>"+PushupScore2Point(agegroupsum,r)+"</td></tr>")}function populateRunningTable(){$(".table").empty(),agegroupsum=getAgeGroup(parseInt($("#age-input").val())),$(".table").append("<tr><td>Score</td><td>Point</td></tr>");for(var r=510;1100>=r;r+=10)$(".table").append("<tr><td>"+secondsToTimeString(r)+"</td><td>"+RunningScore2Point(agegroupsum,r)+"</td></tr>")}function getAgeGroup(r){return 22>r?1:r>=22&&24>=r?2:r>=25&&27>=r?3:r>=28&&30>=r?4:r>=31&&33>=r?5:r>=34&&36>=r?6:r>=37&&39>=r?7:r>=40&&42>=r?8:r>=43&&45>=r?9:r>=46&&48>=r?10:r>=49&&51>=r?11:r>=52&&54>=r?12:r>=55&&57>=r?13:r>=58&&60>=r?14:0}function getAward(r){return r>=85?awards.GOLDPLUS:r>80?awards.GOLD:r>70?awards.SILVER:r>60?awards.PASSPLUS:r>50?awards.PASS:awards.FAIL}function getAwardPoints(r){return r==awards.GOLDPLUS?85:r==awards.GOLD?81:r==awards.SILVER?71:r==awards.PASSPLUS?61:50}function secondsToTimeString(r){var e=Math.floor(r/60),t=r-60*e;return pad(e,2)+":"+pad(t,2)}function IntToTime(r){var e=parseInt(r/60),t=r-60*e,n=e+":"+(10>t?"0"+t:t);return n}function pad(r,e,t){return t=t||"0",r+="",r.length>=e?r:new Array(e-r.length+1).join(t)+r}function isNumeric(r){return!isNaN(parseFloat(r))&&isFinite(r)}var awards={FAIL:"FAIL",PASS:"PASS",PASSPLUS:"PASS PLUS",SILVER:"SILVER",GOLD:"GOLD",GOLDPLUS:"GOLD PLUS"},agegroupts=0,situppts=0,pushuppts=0,runningpts=0,pstotal=0,agegroupscore=0,situpscore=0,pushupscore=0,runningscore=0,sptotal=0,agegrouprw=0,situprw=0,pushuprw=0,runningrw=0,rwtotal=0,remaining=0,agegroupsum=0;$(document).on("pagebeforechange",function(){$(".pts-score-slider").change(function(){calculatePts2Score()}),$(".score-pts-slider").change(function(){calculateScore2Pts()}),$(".rw-score-slider").change(function(){calculateReward2Score()}),$("#situp-rw-slider").on("slidestop",function(){var r=getAwardPoints($("#select-choice-rewards").val());if("SITUP"==$("input[name*=radio-choice-a]:checked").val())constantAdjustment();else if("PUSHUP"==$("input[name*=radio-choice-a]:checked").val()){remaining=r-SitupScore2Point(agegrouprw,situprw)-PushupScore2Point(agegrouprw,pushuprw),remaining>50&&($("#situp-rw-slider").val(SitupPoint2Score(agegrouprw,r-PushupScore2Point(agegrouprw,pushuprw)-50)),$("#situp-rw-slider").slider("refresh"),situprw=$("#situp-rw-slider").val(),remaining=r-SitupScore2Point(agegrouprw,situprw)-PushupScore2Point(agegrouprw,pushuprw)),$("#running-rw-slider").val(1100-RunningPoint2Score(agegrouprw,remaining)),$("#running-rw-slider").slider("refresh");var e=secondsToTimeString(parseInt(RunningPoint2Score(agegrouprw,remaining)));$(".rw-timeLabel").val(e)}}),$("#pushup-rw-slider").on("slidestop",function(){var r=getAwardPoints($("#select-choice-rewards").val());if("PUSHUP"==$("input[name*=radio-choice-a]:checked").val())constantAdjustment();else if("SITUP"==$("input[name*=radio-choice-a]:checked").val()){remaining=r-SitupScore2Point(agegrouprw,situprw)-PushupScore2Point(agegrouprw,pushuprw),remaining>50&&($("#pushup-rw-slider").val(PushupPoint2Score(agegrouprw,r-SitupScore2Point(agegrouprw,situprw)-50)),$("#pushup-rw-slider").slider("refresh"),pushuprw=$("#pushup-rw-slider").val(),remaining=r-SitupScore2Point(agegrouprw,situprw)-PushupScore2Point(agegrouprw,pushuprw)),$("#running-rw-slider").val(1100-RunningPoint2Score(agegrouprw,remaining)),$("#running-rw-slider").slider("refresh");var e=secondsToTimeString(parseInt(RunningPoint2Score(agegrouprw,remaining)));$(".rw-timeLabel").val(e)}}),$("#age-input").change(function(){isNumeric($("#age-input").val())&&parseInt($("#age-input").val())>=16&&parseInt($("#age-input").val())<=60&&(calculateScore2Pts(),calculatePts2Score(),window.localStorage.setItem("age",Math.floor(parseInt($("#age-input").val()))))}),$(".timeLabel").remove(),$("#running-score-slider").parent().prepend('<input type="text" data-role="none" class="timeLabel score-pts-slider ui-shadow-inset ui-body-inherit ui-corner-all ui-slider-input" value="12:00" disabled />'),$("#running-score-slider").change(function(){var r=secondsToTimeString(parseInt(1100-$(this).val()));$(".timeLabel").val(r)}),$(".rw-timeLabel").remove(),$("#running-rw-slider").parent().prepend('<input type="text" data-role="none" class="rw-timeLabel score-pts-slider ui-shadow-inset ui-body-inherit ui-corner-all ui-slider-input" value="12:00" disabled />'),$("#running-rw-slider").change(function(){var r=secondsToTimeString(parseInt(1100-$(this).val()));$(".rw-timeLabel").val(r)})});var init=function(){initLocalStorage(),createPushupArray(),createRunningArray(),createSitupArray(),$("#age-input").val(window.localStorage.getItem("age"))};$(document).ready(init);